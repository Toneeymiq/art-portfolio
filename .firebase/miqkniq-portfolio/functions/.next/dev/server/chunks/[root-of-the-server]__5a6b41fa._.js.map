{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///Users/user2/Documents/Media/Design/Art%20portfolio/portfolio/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps, getApp } from \"firebase/app\";\nimport { getAnalytics } from \"firebase/analytics\";\nimport { getFirestore } from \"firebase/firestore\";\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBEgkHfGxQbQQzBQDEDj4D2QnKFDL6e-Do\",\n  authDomain: \"miqkniq-portfolio.firebaseapp.com\",\n  projectId: \"miqkniq-portfolio\",\n  storageBucket: \"miqkniq-portfolio.firebasestorage.app\",\n  messagingSenderId: \"662443810434\",\n  appId: \"1:662443810434:web:6c2d3feb1fc4fcbe2a1e9b\",\n  measurementId: \"G-WT5CRG63PC\"\n};\n\n// Initialize Firebase\nconst app = getApps().length > 0 ? getApp() : initializeApp(firebaseConfig);\nconst db = getFirestore(app);\n\nlet analytics;\nif (typeof window !== \"undefined\") {\n  analytics = getAnalytics(app);\n}\n\nexport { app, db, analytics };"],"names":[],"mappings":";;;;;;;;AAAA;AAAA;AACA;AACA;AAAA;;;;AAEA,wCAAwC;AACxC,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;IACP,eAAe;AACjB;AAEA,sBAAsB;AACtB,MAAM,MAAM,IAAA,6KAAO,IAAG,MAAM,GAAG,IAAI,IAAA,4KAAM,MAAK,IAAA,mLAAa,EAAC;AAC5D,MAAM,KAAK,IAAA,mLAAY,EAAC;AAExB,IAAI;AACJ"}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":["file:///Users/user2/Documents/Media/Design/Art%20portfolio/portfolio/app/api/comments/like/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport { db } from '@/lib/firebase';\nimport { doc, getDoc, updateDoc, increment, arrayUnion, arrayRemove } from 'firebase/firestore';\n\n// POST - Toggle like on a comment\nexport async function POST(request: NextRequest) {\n    try {\n        const body = await request.json();\n        const { commentId, sessionId } = body;\n\n        if (!commentId || !sessionId) {\n            return NextResponse.json({ error: 'commentId and sessionId are required' }, { status: 400 });\n        }\n\n        const commentRef = doc(db, 'comments', commentId);\n        const commentSnap = await getDoc(commentRef);\n\n        if (!commentSnap.exists()) {\n            return NextResponse.json({ error: 'Comment not found' }, { status: 404 });\n        }\n\n        const commentData = commentSnap.data();\n        const likedBy = commentData.likedBy || [];\n        const hasLiked = likedBy.includes(sessionId);\n\n        if (hasLiked) {\n            // Unlike\n            await updateDoc(commentRef, {\n                likes: increment(-1),\n                likedBy: arrayRemove(sessionId),\n            });\n            return NextResponse.json({ liked: false, likes: (commentData.likes || 1) - 1 });\n        } else {\n            // Like\n            await updateDoc(commentRef, {\n                likes: increment(1),\n                likedBy: arrayUnion(sessionId),\n            });\n            return NextResponse.json({ liked: true, likes: (commentData.likes || 0) + 1 });\n        }\n    } catch (error) {\n        console.error('Error toggling like:', error);\n        return NextResponse.json({ error: 'Failed to toggle like' }, { status: 500 });\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AAAA;;;;AAGO,eAAe,KAAK,OAAoB;IAC3C,IAAI;QACA,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,SAAS,EAAE,SAAS,EAAE,GAAG;QAEjC,IAAI,CAAC,aAAa,CAAC,WAAW;YAC1B,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAuC,GAAG;gBAAE,QAAQ;YAAI;QAC9F;QAEA,MAAM,aAAa,IAAA,0KAAG,EAAC,uHAAE,EAAE,YAAY;QACvC,MAAM,cAAc,MAAM,IAAA,6KAAM,EAAC;QAEjC,IAAI,CAAC,YAAY,MAAM,IAAI;YACvB,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAoB,GAAG;gBAAE,QAAQ;YAAI;QAC3E;QAEA,MAAM,cAAc,YAAY,IAAI;QACpC,MAAM,UAAU,YAAY,OAAO,IAAI,EAAE;QACzC,MAAM,WAAW,QAAQ,QAAQ,CAAC;QAElC,IAAI,UAAU;YACV,SAAS;YACT,MAAM,IAAA,gLAAS,EAAC,YAAY;gBACxB,OAAO,IAAA,gLAAS,EAAC,CAAC;gBAClB,SAAS,IAAA,kLAAW,EAAC;YACzB;YACA,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;gBAAO,OAAO,CAAC,YAAY,KAAK,IAAI,CAAC,IAAI;YAAE;QACjF,OAAO;YACH,OAAO;YACP,MAAM,IAAA,gLAAS,EAAC,YAAY;gBACxB,OAAO,IAAA,gLAAS,EAAC;gBACjB,SAAS,IAAA,iLAAU,EAAC;YACxB;YACA,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;gBAAM,OAAO,CAAC,YAAY,KAAK,IAAI,CAAC,IAAI;YAAE;QAChF;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC/E;AACJ"}}]
}
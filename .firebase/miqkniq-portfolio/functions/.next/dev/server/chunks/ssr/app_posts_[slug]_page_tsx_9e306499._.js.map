{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/user2/Documents/Media/Design/Art%20portfolio/portfolio/app/posts/%5Bslug%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useParams } from 'next/navigation';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { Post } from '@/types/post';\nimport { Calendar, Clock, ArrowLeft, Tag, Share2 } from 'lucide-react';\nimport CommentsSection from '@/components/CommentsSection';\n\nexport default function PostPage() {\n    const params = useParams();\n    const slug = params.slug as string;\n\n    const [post, setPost] = useState<Post | null>(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState<string | null>(null);\n\n    useEffect(() => {\n        async function fetchPost() {\n            try {\n                // Fetch all posts and find by slug\n                // Note: In a larger app, we'd fetch by slug from API directly\n                const res = await fetch('/api/posts?status=published');\n                if (!res.ok) throw new Error('Failed to fetch posts');\n\n                const posts: Post[] = await res.json();\n\n                // Decode slug to handle URL encoding\n                const decodedSlug = decodeURIComponent(slug).trim();\n                const found = posts.find(p => p.slug.trim() === decodedSlug);\n\n                if (found) {\n                    setPost(found);\n                } else {\n                    console.warn('Post not found for slug:', decodedSlug);\n                    setError('Post not found');\n                }\n            } catch (err) {\n                console.error('Error fetching post:', err);\n                setError('Failed to load post');\n            } finally {\n                setLoading(false);\n            }\n        }\n\n        if (slug) fetchPost();\n    }, [slug]);\n\n    if (loading) {\n        return (\n            <div className=\"min-h-screen bg-[var(--bg-primary)] flex items-center justify-center pt-20\">\n                <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[var(--accent-primary)]\"></div>\n            </div>\n        );\n    }\n\n    if (error || !post) {\n        return (\n            <div className=\"min-h-screen bg-[var(--bg-primary)] pt-20 pb-16\">\n                <div className=\"max-w-3xl mx-auto px-4 text-center py-20\">\n                    <div className=\"text-6xl mb-6\">üìù</div>\n                    <h1 className=\"text-3xl font-bold text-[var(--text-primary)] mb-4\">Post Not Found</h1>\n                    <p className=\"text-[var(--text-secondary)] mb-8\">\n                        The post you're looking for doesn't exist or has been removed.\n                    </p>\n                    <Link href=\"/posts\" className=\"btn-primary inline-flex items-center gap-2\">\n                        <ArrowLeft className=\"w-4 h-4\" />\n                        Back to Posts\n                    </Link>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"min-h-screen bg-[var(--bg-primary)] text-[var(--text-primary)] pt-20 pb-16\">\n            <article className=\"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8\">\n                {/* Back Link */}\n                <Link\n                    href=\"/posts\"\n                    className=\"inline-flex items-center gap-2 text-[var(--text-secondary)] hover:text-[var(--accent-primary)] transition-colors mb-8\"\n                >\n                    <ArrowLeft className=\"w-4 h-4\" />\n                    Back to Posts\n                </Link>\n\n                {/* Featured Image */}\n                {post.imageUrl && (\n                    <div className=\"relative w-full h-64 md:h-96 rounded-2xl overflow-hidden mb-8 animate-fade-in\">\n                        <Image\n                            src={post.imageUrl}\n                            alt={post.title}\n                            fill\n                            className=\"object-cover\"\n                            priority\n                        />\n                    </div>\n                )}\n\n                {/* Header */}\n                <header className=\"mb-8 animate-fade-in-up\">\n                    <div className=\"flex flex-wrap items-center gap-4 text-sm text-[var(--text-secondary)] mb-4\">\n                        <span className=\"flex items-center gap-1\">\n                            <Calendar className=\"w-4 h-4\" />\n                            {post.publishDate}\n                        </span>\n                        {post.readTime && (\n                            <span className=\"flex items-center gap-1\">\n                                <Clock className=\"w-4 h-4\" />\n                                {post.readTime}\n                            </span>\n                        )}\n                    </div>\n\n                    <h1 className=\"text-3xl md:text-5xl font-bold text-[var(--text-primary)] mb-4 leading-tight\">\n                        {post.title}\n                    </h1>\n\n                    {post.excerpt && (\n                        <p className=\"text-xl text-[var(--text-secondary)] leading-relaxed\">\n                            {post.excerpt}\n                        </p>\n                    )}\n                </header>\n\n                {/* Tags */}\n                {post.tags && post.tags.length > 0 && (\n                    <div className=\"flex flex-wrap gap-2 mb-8\">\n                        {post.tags.map((tag) => (\n                            <span\n                                key={tag}\n                                className=\"inline-flex items-center gap-1 px-3 py-1 bg-[var(--bg-secondary)] text-[var(--text-secondary)] text-sm rounded-full\"\n                            >\n                                <Tag className=\"w-3 h-3\" />\n                                {tag}\n                            </span>\n                        ))}\n                    </div>\n                )}\n\n                {/* Content */}\n                <div className=\"prose prose-lg max-w-none animate-fade-in-up\" style={{ animationDelay: '100ms' }}>\n                    <div\n                        className=\"text-[var(--text-primary)] leading-relaxed space-y-4\"\n                        style={{ whiteSpace: 'pre-wrap' }}\n                    >\n                        {post.content}\n                    </div>\n                </div>\n\n                {/* Share */}\n                <div className=\"mt-12 pt-8 border-t border-[var(--border-primary)]\">\n                    <div className=\"flex items-center justify-between\">\n                        <span className=\"text-[var(--text-secondary)]\">Share this post</span>\n                        <button\n                            onClick={() => {\n                                if (navigator.share) {\n                                    navigator.share({ title: post.title, url: window.location.href });\n                                } else {\n                                    navigator.clipboard.writeText(window.location.href);\n                                    alert('Link copied to clipboard!');\n                                }\n                            }}\n                            className=\"inline-flex items-center gap-2 px-4 py-2 bg-[var(--bg-secondary)] rounded-lg hover:bg-[var(--bg-tertiary)] transition-colors\"\n                        >\n                            <Share2 className=\"w-4 h-4\" />\n                            Share\n                        </button>\n                    </div>\n                </div>\n\n                {/* Comments Section */}\n                <div className=\"mt-8 pt-8 border-t border-[var(--border-primary)]\">\n                    <CommentsSection\n                        targetId={post.id}\n                        targetType=\"post\"\n                    />\n                </div>\n\n                {/* Back to Posts CTA */}\n                <div className=\"mt-12 card p-8 text-center\">\n                    <h3 className=\"text-xl font-bold text-[var(--text-primary)] mb-2\">Enjoyed this post?</h3>\n                    <p className=\"text-[var(--text-secondary)] mb-6\">Check out more articles and insights.</p>\n                    <Link href=\"/posts\" className=\"btn-primary inline-flex items-center gap-2\">\n                        View All Posts\n                    </Link>\n                </div>\n            </article>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}
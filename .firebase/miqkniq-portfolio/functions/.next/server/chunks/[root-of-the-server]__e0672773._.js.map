{"version":3,"sources":["../../../lib/db.ts","../../../types/settings.ts","../../../app/api/commissions/route.ts","../../../node_modules/next/dist/esm/build/templates/app-route.js"],"sourcesContent":["import {\n    collection,\n    doc,\n    getDocs,\n    getDoc,\n    addDoc,\n    updateDoc,\n    deleteDoc,\n    query,\n    where,\n    orderBy,\n    limit,\n    Timestamp,\n    DocumentData,\n    QueryConstraint,\n} from 'firebase/firestore';\nimport { db } from './firebase';\nimport { Artwork, ContentStatus } from '@/types/artwork';\nimport { Post } from '@/types/post';\nimport { ProcessEntry } from '@/types/process';\nimport { CommissionInfo } from '@/types/commission';\nimport { StaffMember } from '@/types/staff';\nimport { ContactMessage } from '@/types/contact';\nimport { SiteSettings, defaultSiteSettings } from '@/types/settings';\n\n// ============================================\n// HELPER FUNCTIONS\n// ============================================\n\n/**\n * Converts Firestore Timestamp to JS Date\n */\nfunction convertTimestamps<T>(data: T): T {\n    const converted = { ...data } as Record<string, unknown>;\n    for (const key in converted) {\n        const value = converted[key];\n        if (value instanceof Timestamp) {\n            converted[key] = value.toDate();\n        }\n    }\n    return converted as T;\n}\n\n/**\n * Prepares data for Firestore (converts Dates to Timestamps)\n */\nfunction prepareForFirestore<T>(data: T): Record<string, unknown> {\n    const prepared = { ...data } as Record<string, unknown>;\n    for (const key in prepared) {\n        const value = prepared[key];\n        if (value instanceof Date) {\n            prepared[key] = Timestamp.fromDate(value);\n        }\n    }\n    return prepared;\n}\n\n// ============================================\n// ARTWORKS COLLECTION\n// ============================================\n\nconst ARTWORKS_COLLECTION = 'artworks';\n\nexport async function getArtworks(options?: {\n    category?: Artwork['category'];\n    visibility?: ContentStatus;\n    limitCount?: number;\n}): Promise<Artwork[]> {\n    const constraints: QueryConstraint[] = [];\n\n    if (options?.visibility) {\n        constraints.push(where('visibility', '==', options.visibility));\n    }\n    if (options?.category) {\n        constraints.push(where('category', '==', options.category));\n    }\n    const q = query(collection(db, ARTWORKS_COLLECTION), ...constraints);\n    const snapshot = await getDocs(q);\n\n    const artworks = snapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...convertTimestamps(doc.data()),\n    })) as Artwork[];\n\n    // Sort in memory to avoid requiring composite indexes\n    return artworks.sort((a, b) => {\n        const dateA = a.createdAt ? new Date(a.createdAt).getTime() : 0;\n        const dateB = b.createdAt ? new Date(b.createdAt).getTime() : 0;\n        return dateB - dateA;\n    });\n}\n\nexport async function getArtworkById(id: string): Promise<Artwork | null> {\n    const docRef = doc(db, ARTWORKS_COLLECTION, id);\n    const docSnap = await getDoc(docRef);\n\n    if (!docSnap.exists()) return null;\n\n    return {\n        id: docSnap.id,\n        ...convertTimestamps(docSnap.data()),\n    } as Artwork;\n}\n\nexport async function createArtwork(\n    artwork: Omit<Artwork, 'id' | 'createdAt' | 'updatedAt'>\n): Promise<string> {\n    const now = new Date();\n    const docRef = await addDoc(collection(db, ARTWORKS_COLLECTION), {\n        ...prepareForFirestore(artwork as DocumentData),\n        createdAt: Timestamp.fromDate(now),\n        updatedAt: Timestamp.fromDate(now),\n    });\n    return docRef.id;\n}\n\nexport async function updateArtwork(\n    id: string,\n    artwork: Partial<Omit<Artwork, 'id' | 'createdAt'>>\n): Promise<void> {\n    const docRef = doc(db, ARTWORKS_COLLECTION, id);\n    await updateDoc(docRef, {\n        ...prepareForFirestore(artwork as DocumentData),\n        updatedAt: Timestamp.fromDate(new Date()),\n    });\n}\n\nexport async function deleteArtwork(id: string): Promise<void> {\n    const docRef = doc(db, ARTWORKS_COLLECTION, id);\n    await deleteDoc(docRef);\n}\n\n// ============================================\n// POSTS COLLECTION\n// ============================================\n\nconst POSTS_COLLECTION = 'posts';\n\nexport async function getPosts(options?: {\n    status?: ContentStatus;\n    limitCount?: number;\n}): Promise<Post[]> {\n    const constraints: QueryConstraint[] = [];\n\n    if (options?.status) {\n        constraints.push(where('status', '==', options.status));\n    }\n    const q = query(collection(db, POSTS_COLLECTION), ...constraints);\n    const snapshot = await getDocs(q);\n\n    const posts = snapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...convertTimestamps(doc.data()),\n    })) as Post[];\n\n    // Sort in memory to avoid requiring composite indexes\n    return posts.sort((a, b) => {\n        const dateA = new Date(a.publishDate).getTime();\n        const dateB = new Date(b.publishDate).getTime();\n        return dateB - dateA;\n    });\n}\n\nexport async function getPostById(id: string): Promise<Post | null> {\n    const docRef = doc(db, POSTS_COLLECTION, id);\n    const docSnap = await getDoc(docRef);\n\n    if (!docSnap.exists()) return null;\n\n    return {\n        id: docSnap.id,\n        ...convertTimestamps(docSnap.data()),\n    } as Post;\n}\n\nexport async function getPostBySlug(slug: string): Promise<Post | null> {\n    const q = query(collection(db, POSTS_COLLECTION), where('slug', '==', slug));\n    const snapshot = await getDocs(q);\n\n    if (snapshot.empty) return null;\n\n    const doc = snapshot.docs[0];\n    return {\n        id: doc.id,\n        ...convertTimestamps(doc.data()),\n    } as Post;\n}\n\nexport async function createPost(\n    post: Omit<Post, 'id' | 'createdAt' | 'updatedAt'>\n): Promise<string> {\n    const now = new Date();\n    const docRef = await addDoc(collection(db, POSTS_COLLECTION), {\n        ...prepareForFirestore(post as DocumentData),\n        createdAt: Timestamp.fromDate(now),\n        updatedAt: Timestamp.fromDate(now),\n    });\n    return docRef.id;\n}\n\nexport async function updatePost(\n    id: string,\n    post: Partial<Omit<Post, 'id' | 'createdAt'>>\n): Promise<void> {\n    const docRef = doc(db, POSTS_COLLECTION, id);\n    await updateDoc(docRef, {\n        ...prepareForFirestore(post as DocumentData),\n        updatedAt: Timestamp.fromDate(new Date()),\n    });\n}\n\nexport async function deletePost(id: string): Promise<void> {\n    const docRef = doc(db, POSTS_COLLECTION, id);\n    await deleteDoc(docRef);\n}\n\n// ============================================\n// PROCESS ENTRIES COLLECTION\n// ============================================\n\nconst PROCESS_COLLECTION = 'process';\n\nexport async function getProcessEntries(options?: {\n    visibility?: ContentStatus;\n    limitCount?: number;\n}): Promise<ProcessEntry[]> {\n    const constraints: QueryConstraint[] = [];\n\n    if (options?.visibility) {\n        constraints.push(where('visibility', '==', options.visibility));\n    }\n    const q = query(collection(db, PROCESS_COLLECTION), ...constraints);\n    const snapshot = await getDocs(q);\n\n    const entries = snapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...convertTimestamps(doc.data()),\n    })) as ProcessEntry[];\n\n    // Sort in memory to avoid requiring composite indexes\n    return entries.sort((a, b) => {\n        const dateA = a.createdAt ? new Date(a.createdAt).getTime() : 0;\n        const dateB = b.createdAt ? new Date(b.createdAt).getTime() : 0;\n        return dateB - dateA;\n    });\n}\n\nexport async function getProcessEntryById(id: string): Promise<ProcessEntry | null> {\n    const docRef = doc(db, PROCESS_COLLECTION, id);\n    const docSnap = await getDoc(docRef);\n\n    if (!docSnap.exists()) return null;\n\n    return {\n        id: docSnap.id,\n        ...convertTimestamps(docSnap.data()),\n    } as ProcessEntry;\n}\n\nexport async function getProcessEntryByArtworkId(\n    artworkId: string\n): Promise<ProcessEntry | null> {\n    const q = query(\n        collection(db, PROCESS_COLLECTION),\n        where('artworkId', '==', artworkId)\n    );\n    const snapshot = await getDocs(q);\n\n    if (snapshot.empty) return null;\n\n    const doc = snapshot.docs[0];\n    return {\n        id: doc.id,\n        ...convertTimestamps(doc.data()),\n    } as ProcessEntry;\n}\n\nexport async function createProcessEntry(\n    entry: Omit<ProcessEntry, 'id' | 'createdAt' | 'updatedAt'>\n): Promise<string> {\n    const now = new Date();\n    const docRef = await addDoc(collection(db, PROCESS_COLLECTION), {\n        ...prepareForFirestore(entry as DocumentData),\n        createdAt: Timestamp.fromDate(now),\n        updatedAt: Timestamp.fromDate(now),\n    });\n    return docRef.id;\n}\n\nexport async function updateProcessEntry(\n    id: string,\n    entry: Partial<Omit<ProcessEntry, 'id' | 'createdAt'>>\n): Promise<void> {\n    const docRef = doc(db, PROCESS_COLLECTION, id);\n    await updateDoc(docRef, {\n        ...prepareForFirestore(entry as DocumentData),\n        updatedAt: Timestamp.fromDate(new Date()),\n    });\n}\n\nexport async function deleteProcessEntry(id: string): Promise<void> {\n    const docRef = doc(db, PROCESS_COLLECTION, id);\n    await deleteDoc(docRef);\n}\n\n// ============================================\n// COMMISSION INFO (Singleton Document)\n// ============================================\n\nconst SETTINGS_COLLECTION = 'settings';\nconst COMMISSION_DOC_ID = 'commission_info';\n\nexport async function getCommissionInfo(): Promise<CommissionInfo | null> {\n    const docRef = doc(db, SETTINGS_COLLECTION, COMMISSION_DOC_ID);\n    const docSnap = await getDoc(docRef);\n\n    if (!docSnap.exists()) return null;\n\n    return {\n        id: docSnap.id,\n        ...convertTimestamps(docSnap.data()),\n    } as CommissionInfo;\n}\n\nexport async function updateCommissionInfo(\n    info: Omit<CommissionInfo, 'id' | 'updatedAt'>\n): Promise<void> {\n    const docRef = doc(db, SETTINGS_COLLECTION, COMMISSION_DOC_ID);\n    const docSnap = await getDoc(docRef);\n\n    const data = {\n        ...prepareForFirestore(info as DocumentData),\n        updatedAt: Timestamp.fromDate(new Date()),\n    };\n\n    if (docSnap.exists()) {\n        await updateDoc(docRef, data);\n    } else {\n        // Create with setDoc if it doesn't exist\n        const { setDoc } = await import('firebase/firestore');\n        await setDoc(docRef, data);\n    }\n}\n\n// ============================================\n// UTILITY: Seed Initial Data (for development)\n// ============================================\n\nexport async function seedInitialData() {\n    console.log('Seeding initial data...');\n\n    // Check if artworks already exist\n    const existingArtworks = await getArtworks({ limitCount: 1 });\n    if (existingArtworks.length > 0) {\n        console.log('Data already exists, skipping seed.');\n        return;\n    }\n\n    // Note: No sample artworks are created by default.\n    // Artists should add their own artwork through the CMS.\n    // If you want sample data, add your own images from:\n    // - Unsplash: https://images.unsplash.com/photo-{ID}\n    // - Google Drive: https://lh3.googleusercontent.com/d/{FILE_ID}\n    // - Imgur: https://i.imgur.com/{ID}.jpg\n    // - Your own CDN\n\n    // Seed sample commission info (doesn't require images)\n    await updateCommissionInfo({\n        servicesOffered: [\n            'Character Illustrations',\n            'Portrait Art',\n            'Concept Art',\n            'Book Covers',\n            'Game Assets',\n        ],\n        workflowDescription:\n            'I start with a detailed consultation to understand your vision, then move through concept sketches, refinement, coloring, and final polish.',\n        pricingNotes:\n            'Prices vary based on complexity and usage rights. Contact me for a custom quote.',\n        turnaroundTime: '1-3 weeks depending on complexity',\n        paymentMethods: 'PayPal, Bank Transfer',\n        status: 'active',\n    });\n\n    // Seed artist profile (without image - can be added via CMS)\n    const sampleStaff: Omit<StaffMember, 'id' | 'createdAt' | 'updatedAt'>[] = [\n        {\n            name: 'Miqk Niq',\n            role: 'Lead Artist',\n            imageUrl: '', // Add your profile image URL via CMS\n            bio: 'Digital artist specializing in character design and concept art.',\n            order: 1,\n            isActive: true,\n        },\n    ];\n\n    for (const staff of sampleStaff) {\n        await createStaffMember(staff);\n    }\n\n    console.log('Seed data complete! Add your artwork through the CMS at /admin/artworks');\n}\n\n// ============================================\n// STAFF MEMBERS COLLECTION\n// ============================================\n\nconst STAFF_COLLECTION = 'staff';\n\nexport async function getStaffMembers(options?: {\n    activeOnly?: boolean;\n}): Promise<StaffMember[]> {\n    const constraints: QueryConstraint[] = [];\n\n    if (options?.activeOnly) {\n        constraints.push(where('isActive', '==', true));\n    }\n    const q = query(collection(db, STAFF_COLLECTION), ...constraints);\n    const snapshot = await getDocs(q);\n\n    const staff = snapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...convertTimestamps(doc.data()),\n    })) as StaffMember[];\n\n    // Sort in memory to avoid requiring composite indexes\n    return staff.sort((a, b) => (a.order || 0) - (b.order || 0));\n}\n\nexport async function getStaffMemberById(id: string): Promise<StaffMember | null> {\n    const docRef = doc(db, STAFF_COLLECTION, id);\n    const docSnap = await getDoc(docRef);\n\n    if (!docSnap.exists()) return null;\n\n    return {\n        id: docSnap.id,\n        ...convertTimestamps(docSnap.data()),\n    } as StaffMember;\n}\n\nexport async function createStaffMember(\n    member: Omit<StaffMember, 'id' | 'createdAt' | 'updatedAt'>\n): Promise<string> {\n    const now = new Date();\n    const docRef = await addDoc(collection(db, STAFF_COLLECTION), {\n        ...prepareForFirestore(member),\n        createdAt: Timestamp.fromDate(now),\n        updatedAt: Timestamp.fromDate(now),\n    });\n    return docRef.id;\n}\n\nexport async function updateStaffMember(\n    id: string,\n    member: Partial<Omit<StaffMember, 'id' | 'createdAt'>>\n): Promise<void> {\n    const docRef = doc(db, STAFF_COLLECTION, id);\n    await updateDoc(docRef, {\n        ...prepareForFirestore(member),\n        updatedAt: Timestamp.fromDate(new Date()),\n    });\n}\n\nexport async function deleteStaffMember(id: string): Promise<void> {\n    const docRef = doc(db, STAFF_COLLECTION, id);\n    await deleteDoc(docRef);\n}\n\n// ============================================\n// CONTACT MESSAGES COLLECTION\n// ============================================\n\nconst CONTACTS_COLLECTION = 'contact_messages';\n\nexport async function getContactMessages(options?: {\n    status?: ContactMessage['status'];\n    limitCount?: number;\n}): Promise<ContactMessage[]> {\n    const constraints: QueryConstraint[] = [];\n\n    if (options?.status) {\n        constraints.push(where('status', '==', options.status));\n    }\n    const q = query(collection(db, CONTACTS_COLLECTION), ...constraints);\n    const snapshot = await getDocs(q);\n\n    const messages = snapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...convertTimestamps(doc.data()),\n    })) as ContactMessage[];\n\n    // Sort in memory to avoid requiring composite indexes\n    return messages.sort((a, b) => {\n        const dateA = a.createdAt ? new Date(a.createdAt).getTime() : 0;\n        const dateB = b.createdAt ? new Date(b.createdAt).getTime() : 0;\n        return dateB - dateA;\n    });\n}\n\nexport async function getContactMessageById(id: string): Promise<ContactMessage | null> {\n    const docRef = doc(db, CONTACTS_COLLECTION, id);\n    const docSnap = await getDoc(docRef);\n\n    if (!docSnap.exists()) return null;\n\n    return {\n        id: docSnap.id,\n        ...convertTimestamps(docSnap.data()),\n    } as ContactMessage;\n}\n\nexport async function createContactMessage(\n    message: Omit<ContactMessage, 'id' | 'createdAt' | 'status'>\n): Promise<string> {\n    const now = new Date();\n    const docRef = await addDoc(collection(db, CONTACTS_COLLECTION), {\n        ...prepareForFirestore(message),\n        status: 'new',\n        createdAt: Timestamp.fromDate(now),\n    });\n    return docRef.id;\n}\n\nexport async function updateContactMessageStatus(\n    id: string,\n    status: ContactMessage['status']\n): Promise<void> {\n    const docRef = doc(db, CONTACTS_COLLECTION, id);\n    await updateDoc(docRef, { status });\n}\n\nexport async function deleteContactMessage(id: string): Promise<void> {\n    const docRef = doc(db, CONTACTS_COLLECTION, id);\n    await deleteDoc(docRef);\n}\n\n// ============================================\n// SITE SETTINGS (Singleton Document)\n// ============================================\n\nconst SITE_SETTINGS_DOC_ID = 'site_settings';\n\nexport async function getSiteSettings(): Promise<SiteSettings | null> {\n    const docRef = doc(db, SETTINGS_COLLECTION, SITE_SETTINGS_DOC_ID);\n    const docSnap = await getDoc(docRef);\n\n    if (!docSnap.exists()) return null;\n\n    return {\n        id: docSnap.id,\n        ...convertTimestamps(docSnap.data()),\n    } as SiteSettings;\n}\n\nexport async function updateSiteSettings(\n    settings: Partial<Omit<SiteSettings, 'id' | 'updatedAt'>>\n): Promise<void> {\n    const docRef = doc(db, SETTINGS_COLLECTION, SITE_SETTINGS_DOC_ID);\n    const docSnap = await getDoc(docRef);\n\n    const data = {\n        ...prepareForFirestore(settings),\n        updatedAt: Timestamp.fromDate(new Date()),\n    };\n\n    if (docSnap.exists()) {\n        await updateDoc(docRef, data);\n    } else {\n        const { setDoc } = await import('firebase/firestore');\n        await setDoc(docRef, { ...defaultSiteSettings, ...data });\n    }\n}\n\nexport async function initializeSiteSettings(): Promise<void> {\n    const existing = await getSiteSettings();\n    if (!existing) {\n        await updateSiteSettings(defaultSiteSettings);\n        console.log('Site settings initialized with defaults');\n    }\n}\n","// Site-wide editable settings stored in Firestore\n\nexport interface ServiceItem {\n    icon: string; // Emoji or icon name\n    title: string;\n    description: string;\n}\n\nexport interface PricingTier {\n    name: string;\n    price: string;\n    description: string;\n    features: string[];\n    isPopular: boolean;\n}\n\nexport interface ProcessStep {\n    icon: string; // Icon name: 'MessageCircle' | 'Palette' | 'FileImage' etc\n    title: string;\n    description: string;\n}\n\nexport interface AboutFocusItem {\n    icon: string; // Emoji\n    title: string;\n    description: string;\n}\n\nexport interface AboutToolItem {\n    name: string;\n    icon: string; // Emoji\n}\n\nexport interface SiteSettings {\n    id: string; // Always 'site_settings'\n\n    // Commission Page Settings\n    commissionServices: ServiceItem[];\n    commissionPricing: PricingTier[];\n    commissionProcess: ProcessStep[];\n    commissionCTATitle: string;\n    commissionCTADescription: string;\n\n    // Process Page Settings\n    processPageTitle: string;\n    processPageSubtitle: string;\n    processOverviewSteps: { icon: string; label: string; desc: string }[];\n\n    // Portfolio Page Settings\n    portfolioPageTitle: string;\n    portfolioPageSubtitle: string;\n\n    // Posts Page Settings\n    postsPageTitle: string;\n    postsPageSubtitle: string;\n\n    // About Page Settings\n    aboutHeroImage: string;\n    aboutHeroTitle: string;\n    aboutHeroSubtitle: string;\n    aboutProfileImage: string;\n    aboutBioTitle: string;\n    aboutBioText: string;\n    aboutArtisticFocus: AboutFocusItem[];\n    aboutTools: AboutToolItem[];\n\n    // General\n    siteTitle: string;\n    siteDescription: string;\n    contactEmail: string;\n    socialLinks: { platform: string; url: string }[];\n\n    // Personal Info (editable in CMS)\n    artistName: string;\n    artistBio: string;\n    phoneNumber: string;\n    location: string;\n    timezone: string;\n\n    updatedAt: Date;\n}\n\n// Default settings for seeding\nexport const defaultSiteSettings: Omit<SiteSettings, 'id' | 'updatedAt'> = {\n    commissionServices: [\n        { icon: 'ðŸŽ¨', title: 'Custom Illustrations', description: 'Unique artwork for personal or commercial use' },\n        { icon: 'ðŸ‘¤', title: 'Character Designs', description: 'Detailed character concepts and portraits' },\n        { icon: 'ðŸŽ®', title: 'Concept Art', description: 'Visual development for games and stories' },\n        { icon: 'ðŸ“š', title: 'Book Covers', description: 'Eye-catching designs for your publications' },\n        { icon: 'ðŸ“£', title: 'Promotional Art', description: 'Marketing materials and brand visuals' },\n        { icon: 'ðŸ–Œï¸', title: 'Digital Paintings', description: 'High-quality digital artwork in various styles' },\n    ],\n    commissionPricing: [\n        {\n            name: 'Simple',\n            price: '$50',\n            description: 'Basic illustrations, simple concepts',\n            features: ['1 character/scene', 'Simple background', '2-3 revisions', '1 week delivery'],\n            isPopular: false,\n        },\n        {\n            name: 'Detailed',\n            price: '$150',\n            description: 'Complex artwork, detailed scenes',\n            features: ['Multiple elements', 'Detailed backgrounds', '3-5 revisions', '2 weeks delivery'],\n            isPopular: true,\n        },\n        {\n            name: 'Premium',\n            price: '$300+',\n            description: 'High-detail, commercial quality',\n            features: ['Commercial license', 'Multiple formats', 'Unlimited revisions', 'Priority support'],\n            isPopular: false,\n        },\n    ],\n    commissionProcess: [\n        { icon: 'MessageCircle', title: 'Consultation', description: 'Discuss your vision and requirements' },\n        { icon: 'Palette', title: 'Creation', description: 'Artwork creation with regular updates' },\n        { icon: 'FileImage', title: 'Delivery', description: 'Final files in multiple formats' },\n    ],\n    commissionCTATitle: 'Ready to Start Your Project?',\n    commissionCTADescription: 'Every commission is unique. Let\\'s discuss your specific needs and create something amazing together.',\n\n    processPageTitle: 'My Process',\n    processPageSubtitle: 'Behind-the-scenes look at how ideas transform into finished artwork',\n    processOverviewSteps: [\n        { icon: 'Palette', label: 'Concept', desc: 'Initial ideas' },\n        { icon: 'Layers', label: 'Sketch', desc: 'Rough drafts' },\n        { icon: 'Sparkles', label: 'Refine', desc: 'Detail work' },\n        { icon: 'Play', label: 'Final', desc: 'Polished art' },\n    ],\n\n    portfolioPageTitle: 'My Portfolio',\n    portfolioPageSubtitle: 'A showcase of my artistic journey through various mediums and styles.',\n\n    postsPageTitle: 'Blog & Updates',\n    postsPageSubtitle: 'Thoughts, processes, and news from the studio.',\n\n    // About Page Defaults\n    aboutHeroImage: 'https://images.unsplash.com/photo-1513364776144-60967b0f800f?q=80&w=1920&fit=crop',\n    aboutHeroTitle: 'About Me',\n    aboutHeroSubtitle: 'Illustrator & Concept Artist based in Nairobi, Kenya',\n    aboutProfileImage: '', // User needs to add this\n    aboutBioTitle: \"Hi, I'm Miqk Niq\",\n    aboutBioText: \"I'm Miqk Niq, an illustrator and concept artist based in Nairobi, Kenya. My work focuses on character-driven illustrations, portraits, and visual storytelling, with an emphasis on expressive detail and strong composition.\\n\\nI'm drawn to creating characters that feel intentional and alive, whether through subtle expression, lighting, or posture. My work often explores mood, personality, and narrative, aiming to communicate a clear visual story rather than just a finished image.\\n\\nI work through a sketch-first digital process, developing ideas from rough concepts into refined final artwork. I prioritize clarity and structure early on, then focus on refinement, detail, and polish as the piece evolves.\",\n    aboutArtisticFocus: [\n        {\n            icon: 'ðŸŽ­',\n            title: 'Character-Driven',\n            description: 'Creating characters that feel intentional and alive through expression, lighting, and posture'\n        },\n        {\n            icon: 'ðŸ“–',\n            title: 'Visual Storytelling',\n            description: 'Exploring mood, personality, and narrative to communicate clear visual stories'\n        },\n        {\n            icon: 'ðŸŽ¨',\n            title: 'Expressive Detail',\n            description: 'Strong composition with emphasis on expressive detail and visual impact'\n        },\n    ],\n    aboutTools: [\n        { name: 'Adobe Photoshop', icon: 'ðŸ–¼ï¸' },\n        { name: 'Clip Studio Paint', icon: 'ðŸŽ¨' },\n        { name: 'Procreate', icon: 'ðŸ“±' },\n        { name: 'Blender', icon: 'ðŸŽ²' },\n        { name: 'After Effects', icon: 'ðŸŽ¬' },\n        { name: 'Figma', icon: 'ðŸŽ¯' },\n        { name: 'Procreate Dreams', icon: 'âœ¨' },\n        { name: 'Wacom Tablets', icon: 'ðŸ–Šï¸' },\n    ],\n\n    siteTitle: 'Miqk Niq - Art Portfolio',\n    siteDescription: 'Digital artist specializing in concept art, illustrations, and commissioned work.',\n    contactEmail: 'miqkniq@gmail.com',\n    socialLinks: [\n        { platform: 'Instagram', url: 'https://www.instagram.com/miqkniq_toney/' },\n        { platform: 'Twitter', url: '#' },\n        { platform: 'ArtStation', url: '#' },\n    ],\n\n    // Personal Info defaults\n    artistName: 'Miqk Niq',\n    artistBio: 'Digital artist and illustrator passionate about bringing creative visions to life through concept art, character design, and commissioned artwork.',\n    phoneNumber: '+254110139659',\n    location: 'Kenya',\n    timezone: 'EAT (UTC+3)',\n};\n","import { NextRequest, NextResponse } from 'next/server';\nimport { getCommissionInfo, updateCommissionInfo } from '@/lib/db';\n\nexport async function GET() {\n    try {\n        const info = await getCommissionInfo();\n\n        if (!info) {\n            // Return default empty structure if not set\n            return NextResponse.json({\n                id: 'commission_info',\n                servicesOffered: [],\n                workflowDescription: '',\n                pricingNotes: '',\n                turnaroundTime: '',\n                paymentMethods: '',\n                status: 'inactive',\n                updatedAt: new Date(),\n            });\n        }\n\n        return NextResponse.json(info);\n    } catch (error) {\n        console.error('Error fetching commission info:', error);\n        return NextResponse.json(\n            { error: 'Failed to fetch commission info' },\n            { status: 500 }\n        );\n    }\n}\n\nexport async function PUT(request: NextRequest) {\n    try {\n        const body = await request.json();\n\n        await updateCommissionInfo({\n            servicesOffered: body.servicesOffered || [],\n            workflowDescription: body.workflowDescription || '',\n            pricingNotes: body.pricingNotes || '',\n            turnaroundTime: body.turnaroundTime || '',\n            paymentMethods: body.paymentMethods || '',\n            status: body.status || 'inactive',\n        });\n\n        return NextResponse.json({ success: true });\n    } catch (error) {\n        console.error('Error updating commission info:', error);\n        return NextResponse.json(\n            { error: 'Failed to update commission info' },\n            { status: 500 }\n        );\n    }\n}\n","import { AppRouteRouteModule } from \"next/dist/esm/server/route-modules/app-route/module.compiled\";\nimport { RouteKind } from \"next/dist/esm/server/route-kind\";\nimport { patchFetch as _patchFetch } from \"next/dist/esm/server/lib/patch-fetch\";\nimport { addRequestMeta, getRequestMeta } from \"next/dist/esm/server/request-meta\";\nimport { getTracer, SpanKind } from \"next/dist/esm/server/lib/trace/tracer\";\nimport { setReferenceManifestsSingleton } from \"next/dist/esm/server/app-render/encryption-utils\";\nimport { createServerModuleMap } from \"next/dist/esm/server/app-render/action-utils\";\nimport { normalizeAppPath } from \"next/dist/esm/shared/lib/router/utils/app-paths\";\nimport { NodeNextRequest, NodeNextResponse } from \"next/dist/esm/server/base-http/node\";\nimport { NextRequestAdapter, signalFromNodeResponse } from \"next/dist/esm/server/web/spec-extension/adapters/next-request\";\nimport { BaseServerSpan } from \"next/dist/esm/server/lib/trace/constants\";\nimport { getRevalidateReason } from \"next/dist/esm/server/instrumentation/utils\";\nimport { sendResponse } from \"next/dist/esm/server/send-response\";\nimport { fromNodeOutgoingHttpHeaders, toNodeOutgoingHttpHeaders } from \"next/dist/esm/server/web/utils\";\nimport { getCacheControlHeader } from \"next/dist/esm/server/lib/cache-control\";\nimport { INFINITE_CACHE, NEXT_CACHE_TAGS_HEADER } from \"next/dist/esm/lib/constants\";\nimport { NoFallbackError } from \"next/dist/esm/shared/lib/no-fallback-error.external\";\nimport { CachedRouteKind } from \"next/dist/esm/server/response-cache\";\nimport * as userland from \"INNER_APP_ROUTE\";\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new AppRouteRouteModule({\n    definition: {\n        kind: RouteKind.APP_ROUTE,\n        page: \"/api/commissions/route\",\n        pathname: \"/api/commissions\",\n        filename: \"route\",\n        bundlePath: \"\"\n    },\n    distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n    relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n    resolvedPagePath: \"[project]/app/api/commissions/route.ts\",\n    nextConfigOutput,\n    userland\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return _patchFetch({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\nexport { routeModule, workAsyncStorage, workUnitAsyncStorage, serverHooks, patchFetch,  };\nexport async function handler(req, res, ctx) {\n    if (routeModule.isDev) {\n        addRequestMeta(req, 'devRequestTimingInternalsEnd', process.hrtime.bigint());\n    }\n    let srcPage = \"/api/commissions/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (process.env.TURBOPACK) {\n        srcPage = srcPage.replace(/\\/index$/, '') || '/';\n    } else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = process.env.__NEXT_MULTI_ZONE_DRAFT_MODE;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, parsedUrl, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname, clientReferenceManifest, serverActionsManifest } = prepareResult;\n    const normalizedSrcPage = normalizeAppPath(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    const render404 = async ()=>{\n        // TODO: should route-module itself handle rendering the 404\n        if (routerServerContext == null ? void 0 : routerServerContext.render404) {\n            await routerServerContext.render404(req, res, parsedUrl, false);\n        } else {\n            res.end('This page could not be found');\n        }\n        return null;\n    };\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                if (nextConfig.experimental.adapterPath) {\n                    return await render404();\n                }\n                throw new NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isStaticGeneration = isIsr && !supportsDynamicResponse;\n    // Before rendering (which initializes component tree modules), we have to\n    // set the reference manifests to our global store so Server Action's\n    // encryption util can access to them at the top level of the page module.\n    if (serverActionsManifest && clientReferenceManifest) {\n        setReferenceManifestsSingleton({\n            page: srcPage,\n            clientReferenceManifest,\n            serverActionsManifest,\n            serverModuleMap: createServerModuleMap({\n                serverActionsManifest\n            })\n        });\n    }\n    const method = req.method || 'GET';\n    const tracer = getTracer();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            cacheComponents: Boolean(nextConfig.cacheComponents),\n            supportsDynamicResponse,\n            incrementalCache: getRequestMeta(req, 'incrementalCache'),\n            cacheLifeProfiles: nextConfig.cacheLife,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new NodeNextRequest(req);\n    const nodeNextRes = new NodeNextResponse(res);\n    const nextReq = NextRequestAdapter.fromNodeNextRequest(nodeNextReq, signalFromNodeResponse(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${srcPage}`);\n                }\n            });\n        };\n        const isMinimalMode = Boolean(process.env.MINIMAL_MODE || getRequestMeta(req, 'minimalMode'));\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!isMinimalMode && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = toNodeOutgoingHttpHeaders(response.headers);\n                        if (cacheTags) {\n                            headers[NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await sendResponse(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: getRevalidateReason({\n                                isStaticGeneration,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil,\n                isMinimalMode\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!isMinimalMode) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = fromNodeOutgoingHttpHeaders(cacheEntry.value.headers);\n            if (!(isMinimalMode && isIsr)) {\n                headers.delete(NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', getCacheControlHeader(cacheEntry.cacheControl));\n            }\n            await sendResponse(nodeNextReq, nodeNextRes, // @ts-expect-error - Argument of type 'Buffer<ArrayBufferLike>' is not assignable to parameter of type 'BodyInit | null | undefined'.\n            new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${srcPage}`,\n                    kind: SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        if (!(err instanceof NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: getRevalidateReason({\n                    isStaticGeneration,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await sendResponse(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n"],"names":[],"mappings":"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","ignoreList":[3]}
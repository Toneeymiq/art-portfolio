{"version":3,"sources":["../../../../node_modules/lucide-react/src/icons/save.ts","../../../../app/admin/commissions/page.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z',\n      key: '1c8476',\n    },\n  ],\n  ['path', { d: 'M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7', key: '1ydtos' }],\n  ['path', { d: 'M7 3v4a1 1 0 0 0 1 1h7', key: 't51u73' }],\n];\n\n/**\n * @component @name Save\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUuMiAzYTIgMiAwIDAgMSAxLjQuNmwzLjggMy44YTIgMiAwIDAgMSAuNiAxLjRWMTlhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yeiIgLz4KICA8cGF0aCBkPSJNMTcgMjF2LTdhMSAxIDAgMCAwLTEtMUg4YTEgMSAwIDAgMC0xIDF2NyIgLz4KICA8cGF0aCBkPSJNNyAzdjRhMSAxIDAgMCAwIDEgMWg3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/save\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Save = createLucideIcon('save', __iconNode);\n\nexport default Save;\n","'use client';\n\nimport { useState, useEffect } from 'react';\nimport { db } from '@/lib/firebase';\nimport { doc, getDoc, setDoc, serverTimestamp } from 'firebase/firestore';\nimport { CommissionInfo } from '@/types/commission';\nimport { Save, Briefcase, CheckCircle } from 'lucide-react';\nimport { AdminCommissionsSkeleton } from '@/components/SkeletonLoaders';\n\nexport default function AdminCommissions() {\n    const [info, setInfo] = useState<Partial<CommissionInfo>>({\n        servicesOffered: [],\n        workflowDescription: '',\n        pricingNotes: '',\n        turnaroundTime: '',\n        paymentMethods: '',\n        status: 'active',\n    });\n    const [loading, setLoading] = useState(true);\n    const [saving, setSaving] = useState(false);\n\n    useEffect(() => {\n        async function fetchInfo() {\n            try {\n                const docRef = doc(db, 'site_content', 'commissions');\n                const docSnap = await getDoc(docRef);\n                if (docSnap.exists()) {\n                    setInfo(docSnap.data() as CommissionInfo);\n                }\n            } catch (error) {\n                console.error(\"Error fetching commission info:\", error);\n            } finally {\n                setLoading(false);\n            }\n        }\n        fetchInfo();\n    }, []);\n\n    const handleSave = async () => {\n        setSaving(true);\n        try {\n            const docRef = doc(db, 'site_content', 'commissions');\n            await setDoc(docRef, {\n                ...info,\n                // Ensure array is array\n                servicesOffered: typeof info.servicesOffered === 'string' ? (info.servicesOffered as string).split('\\n').filter(Boolean) : info.servicesOffered,\n                updatedAt: serverTimestamp(),\n            });\n            // Re-read strictly to handle array conversion if needed for UI state\n            alert('Commission info updated!');\n        } catch (e) {\n            console.error(e);\n            alert('Error saving info');\n        }\n        setSaving(false);\n    };\n\n    const handleServicesChange = (val: string) => {\n        // We keep it as string in state for textarea editing, will parse on save if desired\n        // But standard practice: use local state for inputs\n        // For simplicity here, we assume the textarea modifies a \"string\" representation if we cast it, \n        // but let's do it properly.\n    };\n\n    if (loading) return <AdminCommissionsSkeleton />;\n\n    // Convert array to string for textarea\n    const servicesString = Array.isArray(info.servicesOffered)\n        ? info.servicesOffered.join('\\n')\n        : (info.servicesOffered || '');\n\n    return (\n        <div className=\"space-y-6 max-w-4xl mx-auto animate-fade-in-up\">\n            <div className=\"flex justify-between items-center border-b border-[var(--border-color)] pb-6\">\n                <div>\n                    <h1 className=\"text-3xl font-bold text-[var(--text-primary)]\">Commission Info</h1>\n                    <p className=\"text-[var(--text-secondary)]\">Manage your services, pricing, and terms.</p>\n                </div>\n                <button\n                    onClick={handleSave}\n                    disabled={saving}\n                    className=\"btn-primary flex items-center gap-2\"\n                >\n                    {saving ? <div className=\"spinner-sm\" /> : <Save className=\"w-4 h-4\" />}\n                    Save Changes\n                </button>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n                <div className=\"space-y-6\">\n                    <div className=\"card p-6 bg-[var(--bg-secondary)] border border-[var(--border-color)]\">\n                        <div className=\"flex items-center gap-3 mb-4\">\n                            <Briefcase className=\"w-5 h-5 text-[var(--accent-primary)]\" />\n                            <h2 className=\"font-bold text-lg\">Service Status</h2>\n                        </div>\n                        <div className=\"space-y-4\">\n                            <div>\n                                <label className=\"block text-sm font-medium mb-1\">Commission Status</label>\n                                <select\n                                    className=\"w-full p-2 rounded-lg bg-[var(--bg-tertiary)] border border-[var(--border-color)] focus:border-[var(--accent-primary)] outline-none\"\n                                    value={info.status || 'active'}\n                                    onChange={e => setInfo({ ...info, status: e.target.value as any })}\n                                >\n                                    <option value=\"active\">Open for Commissions</option>\n                                    <option value=\"inactive\">Closed / Waitlist</option>\n                                </select>\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-medium mb-1\">Turnaround Time</label>\n                                <input\n                                    type=\"text\"\n                                    className=\"w-full p-2 rounded-lg bg-[var(--bg-tertiary)] border border-[var(--border-color)] focus:border-[var(--accent-primary)] outline-none\"\n                                    value={info.turnaroundTime || ''}\n                                    onChange={e => setInfo({ ...info, turnaroundTime: e.target.value })}\n                                    placeholder=\"e.g. 2-4 weeks\"\n                                />\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"card p-6 bg-[var(--bg-secondary)] border border-[var(--border-color)]\">\n                        <h2 className=\"font-bold text-lg mb-4\">Services Offered</h2>\n                        <p className=\"text-xs text-[var(--text-secondary)] mb-2\">One service per line.</p>\n                        <textarea\n                            className=\"w-full p-3 rounded-lg bg-[var(--bg-tertiary)] border border-[var(--border-color)] focus:border-[var(--accent-primary)] outline-none h-40 font-mono text-sm\"\n                            value={servicesString}\n                            onChange={e => setInfo({ ...info, servicesOffered: e.target.value.split('\\n') })}\n                            placeholder=\"Character Illustration&#10;Concept Art&#10;Book Covers\"\n                        />\n                    </div>\n                </div>\n\n                <div className=\"space-y-6\">\n                    <div className=\"card p-6 bg-[var(--bg-secondary)] border border-[var(--border-color)]\">\n                        <h2 className=\"font-bold text-lg mb-4\">Workflow & Terms</h2>\n                        <div className=\"space-y-4\">\n                            <div>\n                                <label className=\"block text-sm font-medium mb-1\">Workflow Description</label>\n                                <textarea\n                                    className=\"w-full p-3 rounded-lg bg-[var(--bg-tertiary)] border border-[var(--border-color)] focus:border-[var(--accent-primary)] outline-none h-32\"\n                                    value={info.workflowDescription || ''}\n                                    onChange={e => setInfo({ ...info, workflowDescription: e.target.value })}\n                                    placeholder=\"Describe how you work with clients...\"\n                                />\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-medium mb-1\">Pricing Notes</label>\n                                <textarea\n                                    className=\"w-full p-3 rounded-lg bg-[var(--bg-tertiary)] border border-[var(--border-color)] focus:border-[var(--accent-primary)] outline-none h-24\"\n                                    value={info.pricingNotes || ''}\n                                    onChange={e => setInfo({ ...info, pricingNotes: e.target.value })}\n                                    placeholder=\"Base prices start at...\"\n                                />\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-medium mb-1\">Payment Methods</label>\n                                <input\n                                    type=\"text\"\n                                    className=\"w-full p-2 rounded-lg bg-[var(--bg-tertiary)] border border-[var(--border-color)] focus:border-[var(--accent-primary)] outline-none\"\n                                    value={info.paymentMethods || ''}\n                                    onChange={e => setInfo({ ...info, paymentMethods: e.target.value })}\n                                    placeholder=\"PayPal, Stripe, Wire Transfer\"\n                                />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}
module.exports=[14548,a=>{"use strict";let b=(0,a.i(70106).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],14548)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],81560)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},99464,a=>{"use strict";let b=(0,a.i(70106).default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);a.s(["Pencil",()=>b],99464)},86275,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(18740);a.i(69387);var e=a.i(60574),f=a.i(15618),g=a.i(99464),h=a.i(81560),i=a.i(33508),j=a.i(14548),k=a.i(4720),l=a.i(2679);function m(){let[a,m]=(0,c.useState)([]),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)(!0),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)({});(0,c.useEffect)(()=>{let a=(0,e.onSnapshot)((0,e.collection)(d.db,"posts"),a=>{let b=a.docs.map(a=>({id:a.id,...a.data(),createdAt:a.data().createdAt?.toDate?.()||new Date,updatedAt:a.data().updatedAt?.toDate?.()||new Date}));b.sort((a,b)=>new Date(b.publishDate).getTime()-new Date(a.publishDate).getTime()),m(b),q(!1)});return async function(){o((await (0,e.getDocs)((0,e.collection)(d.db,"artworks"))).docs.map(a=>({id:a.id,...a.data()})))}(),()=>a()},[]);let v=async()=>{if(!t.title)return alert("Title is required");if(!t.slug)return alert("Slug is required");try{let a={...t,updatedAt:(0,e.serverTimestamp)(),publishDate:t.publishDate||new Date().toISOString().split("T")[0]};if(t.id){let b=(0,e.doc)(d.db,"posts",t.id),{id:c,...f}=a;await (0,e.updateDoc)(b,f)}else await (0,e.addDoc)((0,e.collection)(d.db,"posts"),{...a,status:t.status||"draft",createdAt:(0,e.serverTimestamp)()});s(!1),u({})}catch(a){console.error(a),alert("Error saving post")}},w=async a=>{if(confirm("Are you sure you want to delete this post?"))try{await (0,e.deleteDoc)((0,e.doc)(d.db,"posts",a))}catch(a){console.error(a),alert("Error deleting post")}};return p?(0,b.jsx)(l.AdminPostsSkeleton,{}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"space-y-6 animate-fade-in-up",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-[var(--text-primary)]",children:"Blog Posts"}),(0,b.jsx)("p",{className:"text-[var(--text-secondary)]",children:"Share your thoughts and updates."})]}),(0,b.jsxs)("button",{onClick:()=>{u({title:"",slug:"",excerpt:"",content:"",readTime:"5 min read",status:"draft",publishDate:new Date().toISOString().split("T")[0]}),s(!0)},className:"btn-primary flex items-center gap-2",children:[(0,b.jsx)(f.Plus,{className:"w-4 h-4"}),"Add Post"]})]}),(0,b.jsx)("div",{className:"space-y-4",children:a.map(a=>(0,b.jsxs)("div",{className:"card p-4 flex items-center justify-between group bg-[var(--bg-secondary)] border border-[var(--border-color)] hover:border-[var(--accent-primary)] transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"p-3 bg-[var(--bg-tertiary)] rounded-lg relative",children:[(0,b.jsx)(k.FileText,{className:"w-6 h-6 text-[var(--accent-primary)]"}),"draft"===a.status&&(0,b.jsx)("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-yellow-500 rounded-full"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-[var(--text-primary)]",children:a.title}),(0,b.jsxs)("p",{className:"text-sm text-[var(--text-secondary)]",children:[a.publishDate," • ",a.readTime," • ",(0,b.jsx)("span",{className:`${"published"===a.status?"text-green-500":"text-yellow-500"}`,children:a.status})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>{u(a),s(!0)},className:"p-2 hover:bg-[var(--bg-tertiary)] rounded-full text-blue-400",children:(0,b.jsx)(g.Pencil,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>w(a.id),className:"p-2 hover:bg-[var(--bg-tertiary)] rounded-full text-red-400",children:(0,b.jsx)(h.Trash2,{className:"w-4 h-4"})})]})]},a.id))})]}),r&&(0,b.jsx)("div",{className:"fixed inset-0 z-[100] overflow-y-auto bg-black/50 backdrop-blur-sm",children:(0,b.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"w-full max-w-3xl rounded-2xl bg-[var(--bg-secondary)] p-6 shadow-2xl border border-[var(--border-color)] animate-scale-up relative",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h2",{className:"text-xl font-bold",children:t.id?"Edit Post":"New Post"}),(0,b.jsx)("button",{onClick:()=>s(!1),className:"p-2 hover:bg-[var(--bg-tertiary)] rounded-full",children:(0,b.jsx)(i.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Title"}),(0,b.jsx)("input",{type:"text",className:"w-full p-2 rounded-lg bg-[var(--bg-tertiary)] border border-[var(--border-color)] focus:border-[var(--accent-primary)] outline-none",value:t.title||"",onChange:a=>(a=>{if(!r)return;let b=a.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,"");u(c=>({...c,title:a,slug:c.slug?c.slug:b}))})(a.target.value)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Slug (URL)"}),(0,b.jsx)("input",{type:"text",className:"w-full p-2 rounded-lg bg-[var(--bg-tertiary)] border border-[var(--border-color)] focus:border-[var(--accent-primary)] outline-none font-mono text-sm",value:t.slug||"",onChange:a=>u({...t,slug:a.target.value})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Excerpt"}),(0,b.jsx)("textarea",{className:"w-full p-2 rounded-lg bg-[var(--bg-tertiary)] border border-[var(--border-color)] focus:border-[var(--accent-primary)] outline-none h-20",value:t.excerpt||"",onChange:a=>u({...t,excerpt:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Content (Markdown supported)"}),(0,b.jsx)("textarea",{className:"w-full p-2 rounded-lg bg-[var(--bg-tertiary)] border border-[var(--border-color)] focus:border-[var(--accent-primary)] outline-none h-60 font-mono text-sm",value:t.content||"",onChange:a=>u({...t,content:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Featured Image URL (Optional)"}),(0,b.jsx)("input",{type:"url",className:"w-full p-2 rounded-lg bg-[var(--bg-tertiary)] border border-[var(--border-color)] focus:border-[var(--accent-primary)] outline-none",placeholder:"https://example.com/image.jpg",value:t.imageUrl||"",onChange:a=>u({...t,imageUrl:a.target.value})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Publish Date"}),(0,b.jsx)("input",{type:"date",className:"w-full p-2 rounded-lg bg-[var(--bg-tertiary)] border border-[var(--border-color)] focus:border-[var(--accent-primary)] outline-none",value:t.publishDate||"",onChange:a=>u({...t,publishDate:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Read Time"}),(0,b.jsx)("input",{type:"text",className:"w-full p-2 rounded-lg bg-[var(--bg-tertiary)] border border-[var(--border-color)] focus:border-[var(--accent-primary)] outline-none",value:t.readTime||"",onChange:a=>u({...t,readTime:a.target.value})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Status"}),(0,b.jsxs)("select",{className:"w-full p-2 rounded-lg bg-[var(--bg-tertiary)] border border-[var(--border-color)] focus:border-[var(--accent-primary)] outline-none",value:t.status||"draft",onChange:a=>u({...t,status:a.target.value}),children:[(0,b.jsx)("option",{value:"draft",children:"Draft"}),(0,b.jsx)("option",{value:"published",children:"Published"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Linked Artwork (Optional)"}),(0,b.jsxs)("select",{className:"w-full p-2 rounded-lg bg-[var(--bg-tertiary)] border border-[var(--border-color)] focus:border-[var(--accent-primary)] outline-none",value:t.linkedArtworkId||"",onChange:a=>u({...t,linkedArtworkId:a.target.value}),children:[(0,b.jsx)("option",{value:"",children:"None"}),n.map(a=>(0,b.jsx)("option",{value:a.id,children:a.title},a.id))]})]})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-[var(--border-color)]",children:[(0,b.jsx)("button",{onClick:()=>s(!1),className:"px-4 py-2 rounded-lg hover:bg-[var(--bg-tertiary)] transition-colors",children:"Cancel"}),(0,b.jsxs)("button",{onClick:v,className:"btn-primary flex items-center gap-2",children:[(0,b.jsx)(j.Save,{className:"w-4 h-4"}),"Save Post"]})]})]})})})]})}a.s(["default",()=>m])}];

//# sourceMappingURL=_d4da96b6._.js.map